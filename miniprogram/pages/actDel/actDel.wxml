<!--miniprogram/pages/actDel/actDel.wxml-->
<view>
  <navBar my-class="navClass" barTil="" backIcon/>

  <view class="header" style="margin-top: {{120*scale}}rpx">
    <view class="acTitle">石榴园迎新</view>
    <view class="actNum">12人</view>

    <!-- 活动内容/报名情况 切换tab，仅管理员可见 -->
    <view class="adminBar">
      <view class="adminTab">
        <view style="flex: 2;"></view>
        <view
          class="tabItem {{currentItemId == 0?'selected':''}}"
          data-index="0"
          catchtap="changeTab">活动</view>
        <view
          class="tabItem {{currentItemId == 1?'selected':''}}"
          data-index="1"
          catchtap="changeTab"
          style="margin-left: 40rpx;">成员</view>
        <view style="flex: 2;"></view>
      </view>
      <span class="edit icon iconfont icon-xiugai" catchtap="edit" 
        wx:if="{{!showEdit || currentItemId == 0}}"></span>
      <span class="edit" wx:else catchtap="eidtDone">完成</span>
    </view>
  </view>
  
  <!-- 中间主要内容 -->
  <view>
    <swiper
      style="height: 78vh;"
      current='{{currentItemId}}'
      bindchange='scrollChange'>
      <!-- 活动内容，都可见 -->
      <swiper-item class="fb_con">
        <view class="content">
          <view class="contentRow">
            <view class="iconfont icon-zhuangtai contentIcon"></view>
            <view>状态：</view>
            <view>招募中</view>
          </view>
          <view class="contentRow">
            <view class="iconfont icon-riqi2 contentIcon"></view>
            <view>开始时间：</view>
            <view>2019-9-12 12：00</view>
          </view>
          <view class="contentRow">
            <view class="iconfont icon-riqi2 contentIcon"></view>
            <view>截止时间：</view>
            <view>2019-9-12 14：00</view>
          </view>
          <view class="contentRow" style="border-bottom: 3rpx dashed #e2e2e2ee;">
            <view class="iconfont icon-neirong contentIcon"></view>
            <view>描述</view>
          </view>
          <view class="actContent">
            <view>
              如果小程序是一个多 tab 应用（客户端窗口的底部或顶部有 tab 栏可以切换页面），可以通过 tabBar 配置项指定 tab 栏的表现，以及 tab 切换时显示的对应页面。
            </view>
          </view>
        </view>
      </swiper-item>
      <!-- 活动内容 end -->


      <!-- 参与成员列表 -->
      <swiper-item>
        <view wx:for="{{users}}" wx:key="{{index}}" class="members">
          <view class="avatar"><image src="../../images/code-cloud-callback-config.png"></image></view>
          <view>{{item.id}}</view>
          
          <!-- 编辑状态下 删除/认证按钮 -->
          <view class="editShowCon animated 1 fadeIn" wx:if="{{showEdit}}">
            <view class="memBtnCon" data-index="{{index}}" catchtap="addItem">
              <view class="memCheck addBtn {{item.addSelect?'addChecked':''}}"></view>
              <view class="btnDesc">认证</view>
            </view>
            <view class="memBtnCon" data-index="{{index}}" catchtap="delItem">
              <view class="memCheck delBtn {{item.delSelect?'delChecked':''}}"></view>
              <view class="btnDesc">删除</view>
            </view>
          </view>
          
        </view>
      </swiper-item>
      <!-- 参与成员列表 end -->
    </swiper>
  </view>

  <!-- 底部报名按钮 -->
  <span class="join animated 1 fadeIn" wx:if="{{isOver && !join}}" style="background-color: #bbbec4;">终</span>
  <span class="join animated 1 fadeIn" wx:if="{{isOver && join}}" style="background-color: #bbbec4;">退</span>
  <span class="join animated 1 fadeIn" wx:if="{{!isOver && join}}">退</span>
  <span class="join animated 1 fadeIn" wx:if="{{!showEdit && !isOver && !join}}">报</span>
</view>